# üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∞–π—Ç–∞ Tilda —Å Joy Vision Calculator

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ –Ω–∞ Tilda –∫ API –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#1-–æ–±–∑–æ—Ä-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
2. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ API](#2-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-api)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º—ã –Ω–∞ Tilda](#3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—Ñ–æ—Ä–º—ã-–Ω–∞-tilda)
4. [JavaScript –∫–æ–¥ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#4-javascript-–∫–æ–¥-–¥–ª—è-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
5. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞](#5-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—Ç–≤–µ—Ç–∞)
6. [–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º](#6-–≥–æ—Ç–æ–≤—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-—Ñ–æ—Ä–º)
7. [–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#7-–æ—Ç–ª–∞–¥–∫–∞-–∏-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## 1. –û–±–∑–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã:

```
Tilda —Å–∞–π—Ç ‚Üí –§–æ—Ä–º–∞ —Ä–∞—Å—á—ë—Ç–∞ ‚Üí API –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí PDF ‚Üí Email
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ –§–æ—Ä–º–∞ —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä—è–º–æ –Ω–∞ —Å–∞–π—Ç–µ
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ email
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –≤ CRM –ë–∏—Ç—Ä–∏–∫—Å24

---

## 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ API

### –®–∞–≥ 1: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API –¥–æ—Å—Ç—É–ø–Ω–æ –∏–∑–≤–Ω–µ

–í–∞—à API –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ø—É–±–ª–∏—á–Ω–æ–º—É –∞–¥—Ä–µ—Å—É:

**–í–∞—Ä–∏–∞–Ω—Ç A: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL:
  ```bash
  ngrok http 5000
  ```
- –ü–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞: `https://abcd1234.ngrok.io`

**–í–∞—Ä–∏–∞–Ω—Ç B: VPS —Å–µ—Ä–≤–µ—Ä (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)**
- API —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS

–ß—Ç–æ–±—ã Tilda –º–æ–≥ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ API, –¥–æ–±–∞–≤—å—Ç–µ CORS:

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `app.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```python
from flask_cors import CORS

def create_app(config_class=None):
    app = Flask(__name__)

    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...

    # –î–æ–±–∞–≤—å—Ç–µ CORS
    CORS(app, resources={
        r"/api/*": {
            "origins": [
                "https://–≤–∞—à-—Å–∞–π—Ç.tilda.ws",
                "https://–≤–∞—à-–¥–æ–º–µ–Ω.ru"
            ],
            "methods": ["GET", "POST", "PUT", "DELETE"],
            "allow_headers": ["Content-Type"]
        }
    })

    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ flask-cors:
```bash
pip install flask-cors
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `requirements.txt`:
```
flask-cors>=4.0.0
```

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º—ã –Ω–∞ Tilda

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –±–ª–æ–∫ —Å —Ñ–æ—Ä–º–æ–π

1. –í–æ–π–¥–∏—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Tilda
2. –î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ **"–§–æ—Ä–º–∞"** (T123, T170 –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã:

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

- **–ò–º—è/–ö–æ–º–ø–∞–Ω–∏—è** (input name="customer_name")
- **Email** (input name="email")
- **–¢–µ–ª–µ—Ñ–æ–Ω** (input name="phone")
- **–ì–æ—Ä–æ–¥** (input name="city")
- **–¢–∏–ø —Å–∏—Å—Ç–µ–º—ã** (select name="system_type")
  - Slider L
  - Slider X
  - JV Line
  - JV Zig-Zag
- **–®–∏—Ä–∏–Ω–∞ –ø—Ä–æ—ë–º–∞, –º–º** (input name="width" type="number")
- **–í—ã—Å–æ—Ç–∞ –ø—Ä–æ—ë–º–∞, –º–º** (input name="height" type="number")
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–≤–æ—Ä–æ–∫** (input name="panels" type="number")

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–Ω–∏—è** (select name="opening")
  - –≤–ª–µ–≤–æ
  - –≤–ø—Ä–∞–≤–æ
  - –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
- **–°–∫–∏–¥–∫–∞, %** (input name="discount_percent" type="number")
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π** (textarea name="notes")

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ ID –ø–æ–ª—è–º

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤—å—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—è:

- `customer_name` ‚Üí id="customer_name"
- `email` ‚Üí id="email"
- `width` ‚Üí id="width"
- –∏ —Ç.–¥.

---

## 4. JavaScript –∫–æ–¥ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É Tilda:

1. –í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ Tilda –æ—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ"**
3. –í –ø–æ–ª–µ **"HTML-–∫–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤–Ω—É—Ç—Ä–∏ <head>"** –¥–æ–±–∞–≤—å—Ç–µ:

```html
<script>
// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const API_URL = 'https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/api'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à URL API

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
async function submitCalculatorForm(event) {
    event.preventDefault();

    // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
    const submitBtn = document.querySelector('#calc-form button[type="submit"]');
    const originalText = submitBtn.textContent;
    submitBtn.textContent = '–†–∞—Å—á—ë—Ç...';
    submitBtn.disabled = true;

    try {
        // –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
        const formData = {
            customer_name: document.getElementById('customer_name').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value || '',
            city: document.getElementById('city').value || '',
            discount_percent: parseFloat(document.getElementById('discount_percent')?.value || 0),
            notes: document.getElementById('notes')?.value || ''
        };

        // –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
        const orderResponse = await fetch(`${API_URL}/orders`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        });

        if (!orderResponse.ok) {
            throw new Error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞');
        }

        const orderData = await orderResponse.json();
        const orderId = orderData.data.id;

        // –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫ –∑–∞–∫–∞–∑—É
        const systemData = {
            system_type: document.getElementById('system_type').value,
            width: parseInt(document.getElementById('width').value),
            height: parseInt(document.getElementById('height').value),
            panels: parseFloat(document.getElementById('panels').value),
            opening: document.getElementById('opening')?.value || '–≤–ª–µ–≤–æ'
        };

        const systemResponse = await fetch(`${API_URL}/orders/${orderId}/systems`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(systemData)
        });

        if (!systemResponse.ok) {
            throw new Error('–û—à–∏–±–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ —Å–∏—Å—Ç–µ–º—ã');
        }

        const systemResult = await systemResponse.json();

        // –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞ —Å –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º–æ–π
        const finalOrderResponse = await fetch(`${API_URL}/orders/${orderId}`);
        const finalOrder = await finalOrderResponse.json();

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        displayResult(finalOrder.data);

        // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –ë–∏—Ç—Ä–∏–∫—Å24
        // await syncToBitrix(orderId);

    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
        alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.');
    } finally {
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
    }
}

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
function displayResult(order) {
    const resultHtml = `
        <div class="calculator-result">
            <h3>‚úÖ –†–∞—Å—á—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω!</h3>
            <p><strong>–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:</strong> ${order.id}</p>
            <p><strong>–ö–æ–º–ø–∞–Ω–∏—è:</strong> ${order.customer_name}</p>
            <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º:</strong> ${order.systems_count}</p>
            <p><strong>–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${order.total_price.toLocaleString('ru-RU')} ‚ÇΩ</p>
            <p>–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏ —Ä–∞–∑–±–ª—é–¥–æ–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ ${order.email || '–≤–∞—à—É –ø–æ—á—Ç—É'}</p>
            <div style="margin-top: 20px;">
                <a href="${API_URL}/orders/${order.id}/pdf/kp"
                   class="t-btn"
                   download="–ö–ü_${order.id}.pdf">
                   üìÑ –°–∫–∞—á–∞—Ç—å –ö–ü (PDF)
                </a>
                <a href="${API_URL}/orders/${order.id}/pdf/spec"
                   class="t-btn"
                   download="–†–∞–∑–±–ª—é–¥–æ–≤–∫–∞_${order.id}.pdf"
                   style="margin-left: 10px;">
                   üìã –°–∫–∞—á–∞—Ç—å —Ä–∞–∑–±–ª—é–¥–æ–≤–∫—É (PDF)
                </a>
            </div>
        </div>
    `;

    // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º –±–ª–æ–∫–µ
    const resultContainer = document.getElementById('calculator-result');
    if (resultContainer) {
        resultContainer.innerHTML = resultHtml;
        resultContainer.style.display = 'block';
    } else {
        // –ï—Å–ª–∏ –Ω–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –ø–æ–∫–∞–∑–∞—Ç—å alert
        alert(`–†–∞—Å—á—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω! –ò—Ç–æ–≥–æ: ${order.total_price.toLocaleString('ru-RU')} ‚ÇΩ`);
    }
}

// –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –ë–∏—Ç—Ä–∏–∫—Å24
async function syncToBitrix(orderId) {
    try {
        await fetch(`${API_URL}/bitrix/sync/${orderId}`, {
            method: 'POST'
        });
        console.log('–ó–∞–∫–∞–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –ë–∏—Ç—Ä–∏–∫—Å24');
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –ë–∏—Ç—Ä–∏–∫—Å24:', error);
    }
}

// –ü—Ä–∏–≤—è–∑–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫ —Ñ–æ—Ä–º–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('calc-form');
    if (form) {
        form.addEventListener('submit', submitCalculatorForm);
    }
});
</script>
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/api` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ API!

---

## 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

–í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ Tilda –¥–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ **"HTML-–∫–æ–¥"** (T123) –ø–æ—Å–ª–µ —Ñ–æ—Ä–º—ã:

```html
<div id="calculator-result" style="display: none; margin-top: 40px; padding: 30px; background: #f5f5f5; border-radius: 10px;">
    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω JavaScript'–æ–º -->
</div>

<style>
.calculator-result {
    text-align: center;
}

.calculator-result h3 {
    color: #4CAF50;
    font-size: 24px;
    margin-bottom: 20px;
}

.calculator-result p {
    font-size: 16px;
    margin: 10px 0;
}

.calculator-result .t-btn {
    display: inline-block;
    padding: 12px 30px;
    background: #4CAF50;
    color: white;
    text-decoration: none;
    border-radius: 5px;
    transition: background 0.3s;
}

.calculator-result .t-btn:hover {
    background: #45a049;
}
</style>
```

---

## 6. –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ —Ä–∞—Å—á—ë—Ç–∞

```html
<form id="calc-form" class="t-form">
    <div class="t-input-group">
        <label>–í–∞—à–µ –∏–º—è –∏–ª–∏ –∫–æ–º–ø–∞–Ω–∏—è *</label>
        <input type="text" id="customer_name" name="customer_name" required>
    </div>

    <div class="t-input-group">
        <label>Email *</label>
        <input type="email" id="email" name="email" required>
    </div>

    <div class="t-input-group">
        <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
        <input type="tel" id="phone" name="phone">
    </div>

    <div class="t-input-group">
        <label>–ì–æ—Ä–æ–¥</label>
        <input type="text" id="city" name="city">
    </div>

    <div class="t-input-group">
        <label>–¢–∏–ø —Å–∏—Å—Ç–µ–º—ã *</label>
        <select id="system_type" name="system_type" required>
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
            <option value="Slider L">Slider L (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ-—Å–¥–≤–∏–∂–Ω–∞—è)</option>
            <option value="Slider X">Slider X (—É—Å–∏–ª–µ–Ω–Ω–∞—è)</option>
            <option value="JV Line">JV Line (—Å –ø–∞—Ä–∫–æ–≤–∫–æ–π)</option>
            <option value="JV Zig-Zag">JV Zig-Zag (–≥–∞—Ä–º–æ—à–∫–∞)</option>
        </select>
    </div>

    <div class="t-input-group">
        <label>–®–∏—Ä–∏–Ω–∞ –ø—Ä–æ—ë–º–∞, –º–º *</label>
        <input type="number" id="width" name="width" min="1000" max="10000" required>
    </div>

    <div class="t-input-group">
        <label>–í—ã—Å–æ—Ç–∞ –ø—Ä–æ—ë–º–∞, –º–º *</label>
        <input type="number" id="height" name="height" min="1000" max="5000" required>
    </div>

    <div class="t-input-group">
        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–≤–æ—Ä–æ–∫ *</label>
        <input type="number" id="panels" name="panels" min="2" max="10" step="1" required>
    </div>

    <div class="t-input-group">
        <label>–°–∫–∏–¥–∫–∞, %</label>
        <input type="number" id="discount_percent" name="discount_percent" min="0" max="50" value="0">
    </div>

    <div class="t-input-group">
        <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
        <textarea id="notes" name="notes" rows="3"></textarea>
    </div>

    <button type="submit" class="t-btn t-btn_primary">
        –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
    </button>
</form>
```

### –ü—Ä–∏–º–µ—Ä 2: –í–∏–¥–∂–µ—Ç –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞

–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏:

```html
<div class="quick-calc-widget">
    <h4>–ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á—ë—Ç</h4>
    <form id="quick-calc-form">
        <select id="q-system_type" required>
            <option value="Slider L">Slider L</option>
            <option value="Slider X">Slider X</option>
        </select>

        <input type="number" id="q-width" placeholder="–®–∏—Ä–∏–Ω–∞, –º–º" required>
        <input type="number" id="q-height" placeholder="–í—ã—Å–æ—Ç–∞, –º–º" required>
        <input type="number" id="q-panels" placeholder="–°—Ç–≤–æ—Ä–æ–∫" min="2" max="10" required>

        <button type="submit">–£–∑–Ω–∞—Ç—å —Ü–µ–Ω—É</button>
    </form>

    <div id="quick-result" style="display: none;">
        <p class="price">–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:<br><strong id="total-price"></strong></p>
        <a href="#full-form" class="detail-link">–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞—Å—á—ë—Ç ‚Üí</a>
    </div>
</div>
```

---

## 7. –û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```javascript
// –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
const DEBUG = true;

function log(...args) {
    if (DEBUG) console.log('[Calculator]', ...args);
}

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –∫–æ–¥–µ:
log('–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö:', formData);
log('–û—Ç–≤–µ—Ç API:', orderData);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API:

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
// –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
fetch('https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/api/orders', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({customer_name: '–¢–µ—Å—Ç'})
})
.then(r => r.json())
.then(data => console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', data));
```

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

1. **CORS –æ—à–∏–±–∫–∞**
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ flask-cors
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–º–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö CORS

2. **404 Not Found**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL API
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

3. **400 Bad Request**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

4. **500 Internal Server Error**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à —Å–∞–π—Ç –Ω–∞ Tilda –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º Joy Vision!

**–ß—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å:**
- ‚úÖ –§–æ—Ä–º–∞ —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä—è–º–æ –Ω–∞ —Å–∞–π—Ç–µ
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–∏—Ç—Ä–∏–∫—Å24

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üíå –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É email —Å PDF
- üìä –î–æ–±–∞–≤—å—Ç–µ Google Analytics —Å–æ–±—ã—Ç–∏—è
- üé® –ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–π—Ç–µ –¥–∏–∑–∞–π–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- üì± –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ API: `sudo journalctl -u joyvision -f`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Postman

**–ü—Ä–∏—è—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã! üöÄ**
